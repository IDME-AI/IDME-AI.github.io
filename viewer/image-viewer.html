<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>图片查看器</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin: 0; padding: 0; background: #f5f5f5; }
        #viewer { padding: 40px 20px; }
        #viewer h2 { color: #007acc; font-size: 2em; margin-bottom: 20px; }
        #viewer img { max-width: 90%; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); margin-bottom: 20px; }
        #viewer p { font-size: 1.2em; line-height: 1.6; color: #333; max-width: 800px; margin: 0 auto 30px auto; }
        #button-container { position: fixed; bottom: 24px; right: 24px; display: flex; flex-direction: column; gap: 12px; }
        button { padding: 12px 20px; font-size: 16px; border: none; border-radius: 8px; cursor: pointer; color: #fff; width: 120px; text-align: center; box-shadow: 0 4px 12px rgba(0,0,0,0.25); transition: background-color 0.3s, transform 0.2s; }
        #back-button { background-color: #4f46e5; } #back-button:hover { background-color: #4338ca; transform: scale(1.08); }
        #share-button { background-color: #10b981; } #share-button:hover { background-color: #059669; transform: scale(1.08); }
        #qrcode-container { margin-top: 20px; }
    </style>
</head>
<body>

<div id="viewer"></div>

<div id="button-container">
    <button id="share-button">分享</button>
    <button id="back-button" onclick="history.back()">返回</button>
</div>

<div id="qrcode-container"></div>

<!-- 引入二维码库 -->
<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>

<script>
    window.addEventListener('DOMContentLoaded', function() {
        const params = new URLSearchParams(window.location.search);
        const src = params.get('src');
        const title = params.get('title');
        const desc = params.get('desc');

        // 渲染图片和信息
        document.getElementById('viewer').innerHTML = `
        <h2>${title || ''}</h2>
        <img src="${src || ''}" alt="${title || ''}" />
        <p>${desc || ''}</p>
    `;

        // 分享按钮生成二维码
        document.getElementById('share-button').addEventListener('click', function() {
            const container = document.getElementById('qrcode-container');
            container.innerHTML = '';
            new QRCode(container, {
                text: window.location.href,
                width: 180,
                height: 180,
                colorDark: "#000000",
                colorLight: "#ffffff",
                correctLevel: 2
            });
        });
    });
</script>

</body>
</html>
